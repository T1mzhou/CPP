# 48.同名覆盖引发的问题



![Slide1](48.同名覆盖引发的问题.assets/Slide1.PNG)



![Slide2](48.同名覆盖引发的问题.assets/Slide2.PNG)



![Slide3](48.同名覆盖引发的问题.assets/Slide3.PNG)

```cpp
#include <iostream>
#include <string>

using namespace std;

class Parent
{
public:
    int mi;
    
    void add(int i)
    {
        mi += i;
    }
    
    void add(int a, int b)
    {
        mi += (a + b);
    }
};

class Child : public Parent
{
public:
    int mv;
    
    void add(int x, int y, int z)
    {
        mv += (x + y + z);
    }
};

int main()
{
    Parent p;
    Child c;
    
    p = c;
    
    Parent p1(c); // 第一种兼容性的体现
    
    
    Parent& rp = c; // 可以过
    Parent* pp = &c; // 可以过
    
    rp.mi = 100;           // 使用的是父类的
    rp.add(5);             // 没有发生同名覆盖?-》使用父类的
    rp.add(10, 10);        // 没有发生同名覆盖?-》使用父类的
    
    /* 为什么编译不过? */
    // pp->mv = 1000; // 不行因为子类已经被裁剪掉了
    // pp->add(1, 10, 100);  // 不行同上
    // 深入理解C++对象模型里面的
    return 0;
}
```

![Slide4](48.同名覆盖引发的问题.assets/Slide4.PNG)



![Slide5](48.同名覆盖引发的问题.assets/Slide5.PNG)



![Slide6](48.同名覆盖引发的问题.assets/Slide6.PNG)



![Slide7](48.同名覆盖引发的问题.assets/Slide7.PNG)

```cpp
#include <iostream>
#include <string>

using namespace std;

class Parent
{
public:
    int mi;
    
    void add(int i)
    {
        mi += i;
    }
    
    void add(int a, int b)
    {
        mi += (a + b);
    }
    
    void print()
    {
        cout << "I'm Parent." << endl;
    }
};

class Child : public Parent
{
public:
    int mv;
    
    void add(int x, int y, int z)
    {
        mv += (x + y + z);
    }
    
    void print()
    {
        cout << "I'm Child." << endl;
    }
};

void how_to_print(Parent* p)
{
    p->print();
}

int main()
{
    Parent p;
    Child c;
    
    how_to_print(&p);    // Expected to print: I'm Parent.
    how_to_print(&c);    // Expected to print: I'm Child.
    
    return 0;
}
```

![Slide8](48.同名覆盖引发的问题.assets/Slide8.PNG)

**解决方案是多态哈哈哈哈哈**

![Slide9](48.同名覆盖引发的问题.assets/Slide9.PNG)



![Slide10](48.同名覆盖引发的问题.assets/Slide10.PNG)



![Slide11](48.同名覆盖引发的问题.assets/Slide11.PNG)